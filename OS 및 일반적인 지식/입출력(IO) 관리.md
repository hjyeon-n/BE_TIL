# 입출력(I/O) 관리 🐷

### ❓ 입출력(I/O) 관리란?

운영체제가 컴퓨터에 연결된 입출력 장치 및 주변 장치를 관리하고 제어하는 것

PnP 기능을 통해 컴퓨터에 장치가 추가될 때 별도의 물리적인 설정없이 사용 가능

<br/>

### ❗ 입출력 하드웨어의 종류

* 저장장치: 디스크, 테이프 등
* 전송장치: 네트워크 카드, 모뎀 등
* 사용자 인터페이스 장치: 스크린, 키보드, 마우스 등

<br/>

### ❗ 입출력 하드웨어의 구성

하드웨어 장치는 케이블 혹은 무선으로 컴퓨터 시스템과 통신하고, 포트를 통해 컴퓨터에 접속한다.

(하나 이상의 장치들이 공동으로 여러 선을 사용하는 것 ▶ 버스)

제어기는 포트, 버스 혹은 입출력 장치를 제어하는 전자회로의 집합체이다.

컴퓨터의 프로세서는 제어기의 레지스터에 비트 패턴을 쓰거나 읽어 입출력을 실행한다.

혹은 장치 제어 레지스터를 프로세서의 주소 공간으로 사상하는 메모리 맵 입출력 방식을 이용한다.

메모리 맵 입출력 방식을 통해 주변장치 레지스터들은 메모리 주소와 일대일 대응이 되며, 입출력을 통해 메모리에 수백만 바이트를 기록하는 방식을 통해 입출력 명령어를보다 훨씬 빠른 성능을 낸다.

<br/>

### ❗ 입출력 방법

**✔ 프로세서 제어 입출력**

* 장치 제어기의 상태를 CPU가 알게 하는 방식

* 프로세서 내부의 입출력 데이터와 주소 레지스터를 입출력 모듈과 연결한 형태
* <u>폴링 방식</u>과 <u>인터럽트 방식</u>이 있다.

**✔ DMA(Direct Memory Access) 입출력**

* 프로세서의 도움 없이 직접 메모리에 접근해 데이터를 전송하는 방식
* CPU의 가용 시간을 잡아먹는 프로세서 제어 입출력 방식을 개선
* 기존에는 CPU에 여러 입출력 장치가 연결되어 있었지만, 하나의 DMA 장치에 여러 입출력 장치 연결
* CPU는 전송할 자료와 장소의 위치 포인터, 크기를 DMA 전송한다. DMA는 이 정보들을 바탕으로 자신과 연결되어 있는 입출력 장치의 요구사항을 처리할 수 있어 CPU의 가용시간이 증가한다.

<br/>

### ❓ 폴링 방식이란?

CPU가 연결된 입출력 장치의 상태 비트를 주기적으로 검사하는 방식

상태 비트가 0인 경우는 다음 명령을 기다리는 상태, 1인 경우는 명령을 수행중인 상태

컴퓨터는 수시로 장치가 사용중인지 상태 비트를 통해 검사해야 한다.

😉 구현이 쉬우며 우선순위 변경이 용이하다.

😣 연결되어 있는 입출력 장치의 개수가 증가할수록 CPU 점유시간이 길어져 성능이 저하된다.

<br/>

### ❓ 인터럽트 방식이란?

입출력 장치가 필요할 때마다 CPU에게 인터럽트를 전송해 사용하는 방식

😉 필요할 때만 입출력 장치와 통신하므로 시스템 부하가 적고 반응시간이 빠름

😣 폴링 방식에 비해 구현이 복잡함

<br/>

**✔ 인터럽트 시퀀스 과정**

1. 기존의 작업을 처리하던 중 인터럽트 발생

2. 현재 처리하던 일을 중지하고, 현재 컴퓨터의 상태 정보를 저장

3. ISR 처리

4. 이전 작업의 상태를 복구 후 수행 재개

   <br/>

🚩 용어정리

* ISR (Interrupt Service Routine): 인터럽트가 발생했을 때 해야 할 일

[참고 자료](https://complicated0idea.tistory.com/14)