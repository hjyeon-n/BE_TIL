# OS의 일반적인 작동 방식 🎈

### ❗ OS(운영체제)란?

OS는 Operating System의 약어로, 사용자와 하드웨어 간의 인터페이스로서 동작하는 시스템 소프트웨어의 일종으로 다른 응용 프로그램이 유용한 작업을 할 수 있도록 환경을 제공해준다.

운영체제는 자원을 효율적으로 관리하기 위한 자원의 스케줄링 기능을 제공하며, 각종 하드웨어와 네트워크를 관리 및 제어한다. 또한, 데이터를 관리하고 시스템의 오류를 검사하고 복구한다.

대표적 운영체제는 Windows, Linux, Mac OSX, iOS, Android 등이 있다.

<br/>

### ❗ 운영체제의 구조에 따른 분류

1. 단일 구조 운영체제

   단일 구조 운영체제는 초기에 생겨난 가장 보편적인 형태이다. OS의 모든 기능을 커널과 동일한 메모리 공간에 적재한 뒤 system call을 통해 사용한다. 대표적인 예로는 MS-DOS, UNIX 가 있다.

   ⭕ **장점**: 대부분의 기능을 커널에 그룹화 하기 때문에, 직접 통신해 시스템 자원을 효율적으로 관리할 수 있다.

   ❌ **단점**:  버그의 원인이나 오류를 구분하기 어렵고, 새 기능을 추가하거나 수정, 유지보수가 어렵다.

<br/>

2. 계층 구조 운영체제

   단일 구조 운영체제를 보완하여 만든 것으로, 비슷한 기능을 수행하는 요소를 그룹화 하여 계층적으로 구성한다.  0계층인 하드웨어 계층부터 최상위 계층인 사용자 인터페이스(n계층)까지 존재하며, 각 계층은 서로 인접한 계층과 상호작용 한다. 이 때, 각 계층은 자신의 하위 계층만 서비스한다.

   ⭕ **장점**: 모듈화가 잘 되어있어 시스템 검증과 오류 수정을 쉽게 할 수 있다.

   ❌ **단점**: 계층 구조를 정의하기가 어려우며 모든 계층이 시스템에 접근할 수 있어 악성코드에 취약하다.

<br/>

3. 마이크로 커널 구조 운영체제

   단일 커널의 크기가 커지며 버그의 원인과 기타 오류를 구분하기가 어려우며, 한 부분의 문제가 시스템 전체에 심각한 영향을 준다는 단점을 해결하기 위해 개발되었다. 커널에는 최소 기능만 포함시켜 크기를 줄이고, 기타 기능은 사용자 공간으로 옮겨 사용자 영역에서 수행되는 서버로 구현하는 방식이다.

   ⭕ **장점**: 커널이 가벼우며 서버의 개발이 용이하고 운영체제 기능의 변경이 쉽다.

   ❌ **단점**: 모듈간 통신이 빈번하게 발생하면 성능이 저하될 수 있다. 

<br/>

### ❗ 운영체제의 목적

✔ 운영체제의 목적에는 처리능력 향상, 사용 가능도 향상, 신뢰도 향상, 반환 시간 단축 등이 있다.

| 처리능력 (Throughout)           | **일정 시간 내에 시스템이 처리하는 일의 양**                 |
| ------------------------------- | ------------------------------------------------------------ |
| **반환시간 (Turn Around Time)** | **시스템에 작업을 의뢰한 시간부터 처리가 완료될 때 까지 걸린 시간** |
| **사용 가능도 (Availability)**  | **시스템을 사용할 필요가 있을 때 즉시 사용 가능한 정도**     |
| **신뢰도 (Reliability)**        | **시스템이 주어진 문제를 정확하게 해결하는 정도**            |

<br/>

### ❗ 운영체제의 작동원리

현대의 운영체제는 인터럽트(Interrupt)를 기반으로 한다. 만약 실행할 프로세스가 없으면 OS역시도 대기하고 있을 것이고, 인터럽트가 발생하면서 이벤트가 발생한다.  운영체제는 한 작업의 오류로 인해 자원을 계속해서 점유하는 일과 같이 효율성과 컴퓨터의 동작을 저해하는 행위를 보호한다. 이러한 방법에는 크게 두 가지가 있다.

1. 듀얼 모드(Dual Mode)

   운영체제가 User Mode와 Kernel Mode로 나누어 동작하는 것을 의미한다.

   사용자가 커널의 작업, 즉 컴퓨터의 Core에 해당하는 작업들을 직접 명령하거나 수행을 해 시스템 전체에 악영향을 끼치는 것을 방지하고자 도입된 방법이다.

   각각 명령어에 Mode-bit 를 삽입하여 해당 명령어의 Mode-bit 와 현재 시스템의 Mode-bit가 일치할 때만 해당 명령어를 수행하도록 하는 것이다. 만약, Mode-bit 를 바꾸고 싶다면 프로세스에서 **System Call**을 하게 된다.

2. 타이머 (Timer)

   타이머는 무한루프나 자원의 독점을 막기 위해 사용된다.

   타이머는 특정 시간이 지나면 Interrupt를 발생시키고 운영체제는 그 시간을 감소시키며 Interrupt를 기다린다. 운영체제는 타이머가 끝난 작업을 종료시키고 실행 대기중인 작업의 Timer를 작동시킨다.
   
   🙋‍♀️ [Interrupt에 대해서 더 자세히 알고 싶다면?](https://gyoogle.dev/blog/computer-science/operating-system/Interrupt.html)

<br/>

**🍉** **System Call 이란?**

운영체제의 커널이 제공하는 기능은 파일 읽어오기, 파일 쓰기, 화면에 출력등 다양하다. 시스템 콜은 이런 응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스라고 할 수 있다. 즉, 프로그래밍 언어에서 지원하지 않는 기능에 대하여 운영체제의 루틴을 호출하여 이용하는 것을 말한다.