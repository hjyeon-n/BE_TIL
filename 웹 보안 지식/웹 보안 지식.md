# μ›Ή λ³΄μ• μ§€μ‹ β

## HTTPS π™†β€β™€οΈ

HTTPλ” Hypertext Transfer Protocolμ μ•½μλ‹¤. μ¦‰ Hypertext μΈ HTMLμ„ μ „μ†΅ν•κΈ° μ„ν• ν†µμ‹ κ·μ•½μ„ μλ―Έν•λ‹¤. **HTTPSμ—μ„ λ§μ§€λ§‰μ Sλ” Over Secure Socket Layerμ μ•½μ**λ΅ SecureλΌλ” λ§μ„ ν†µν•΄μ„ μ• μ μλ“―μ΄ **λ³΄μ•μ΄ κ°•ν™”λ HTTP**λΌλ” κ²ƒμ„ μ§μ‘ν•  μ μλ‹¤. 

HTTPλ” μ•”νΈν™”λμ§€ μ•μ€ λ°©λ²•μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° λ•λ¬Έμ— μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³  λ°›λ” λ©”μ‹μ§€λ¥Ό κ°μ²­ν•λ” κ²ƒμ΄ λ§¤μ° μ‰½λ‹¤. μλ¥Ό λ“¤μ–΄ λ΅κ·ΈμΈμ„ μ„ν•΄μ„ μ„λ²„λ΅ λΉ„λ°€λ²νΈλ¥Ό μ „μ†΅ν•κ±°λ‚, λλ” μ¤‘μ”ν• κΈ°λ°€ λ¬Έμ„λ¥Ό μ—΄λν•λ” κ³Όμ •μ—μ„ μ•…μμ μΈ κ°μ²­μ΄λ‚ λ°μ΄ν„°μ λ³€μ΅°λ“±μ΄ μΌμ–΄λ‚  μ μλ‹¤. μ΄λ¥Ό λ³΄μ•ν• κ²ƒμ΄ λ°”λ΅ HTTPSλ‹¤.

<br>

### ν ... HTTPS μ •λ§ λ§μ΄ μ¨? π¤”

ν¬λ΅¬ λΈλΌμ°μ €μ—μ„λ” 2017λ…„λ¶€ν„° HTTPSλ¥Ό κ¶μ¥ν•κΈ° μ‹μ‘ν–λ‹¤. HTTPλ¥Ό μ‚¬μ©ν•λ” μ‚¬μ΄νΈμ—λ” 'μ•μ „ν•μ§€ μ•μ€ μ‚¬μ΄νΈ', HTTPSλ¥Ό μ‚¬μ©ν•λ” μ‚¬μ΄νΈμ—μ„λ” μλ¬Όμ‡  λ¨μ–‘μ μ•„μ΄μ½κ³Ό 'μ•μ „ν• μ‚¬μ΄νΈ'λΌκ³  ν‘μ‹ν•κ³  μμΌλ©° μλ¬Όμ‡ λ¥Ό ν΄λ¦­ν•λ©΄ μΈμ¦μ„λ„ ν•¨κ» ν™•μΈν•  μ μλ‹¤. λ„¤μ΄λ²„μ™€ λ‹¤μ λ“±μ ν¬ν„Έ μ‚¬μ΄νΈμ—μ„λ„ HTTPSλ¥Ό μ‚¬μ© μ¤‘!π

<br>

### HTTPS ν†µμ‹  νλ¦„ π’¨

1. μ• ν”λ¦¬μΌ€μ΄μ… μ„λ²„(A)λ¥Ό λ§λ“λ” κΈ°μ—…μ€ HTTPSλ¥Ό μ μ©ν•κΈ° μ„ν•΄ κ³µκ°ν‚¤μ™€ κ°μΈν‚¤λ¥Ό λ§λ“ λ‹¤.
2. μ‹ λΆ°ν•  μ μλ” CA κΈ°μ—…μ„ μ„ νƒν•κ³ , κ·Έ κΈ°μ—…μ—κ² λ‚΄ κ³µκ°ν‚¤ κ΄€λ¦¬λ¥Ό λ¶€νƒν•λ©° κ³„μ•½μ„ ν•λ‹¤.
3. κ³„μ•½ μ™„λ£λ CA κΈ°μ—…μ€ ν•΄λ‹Ή κΈ°μ—…μ μ΄λ¦„, Aμ„λ²„ κ³µκ°ν‚¤, κ³µκ°ν‚¤ μ•”νΈν™” λ°©λ²•μ„ λ‹΄μ€ μΈμ¦μ„λ¥Ό λ§λ“¤κ³  ν•΄λ‹Ή μΈμ¦μ„λ¥Ό CA κΈ°μ—…μ κ°μΈν‚¤λ΅ μ•”νΈν™”ν•΄μ„ Aμ„λ²„μ—κ² μ κ³µν•λ‹¤.
4. Aμ„λ²„λ” μ•”νΈν™”λ μΈμ¦μ„λ¥Ό κ°–κ² λμ—λ‹¤. μ΄μ  Aμ„λ²„λ” Aμ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”λ HTTPS μ”μ²­μ΄ μ•„λ‹ μ”μ²­μ΄ μ¤λ©΄, μ΄ μ•”νΈν™”λ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² κ±΄λ‚΄μ¤€λ‹¤.
5. ν΄λΌμ΄μ–ΈνΈλ” `main.html` νμΌμ„ λ‹¬λΌκ³  Aμ„λ²„μ— μ”μ²­ν–λ‹¤κ³  κ°€μ •ν•μ. HTTPS μ”μ²­μ΄ μ•„λ‹κΈ° λ•λ¬Έμ— CAκΈ°μ—…μ΄ Aμ„λ²„μ μ •λ³΄λ¥Ό CA κΈ°μ—…μ κ°μΈν‚¤λ΅ μ•”νΈν™”ν• μΈμ¦μ„λ¥Ό λ°›κ² λλ‹¤.

> CA κΈ°μ—…μ κ³µκ°ν‚¤λ” λΈλΌμ°μ €κ°€ μ΄λ―Έ μ•κ³ μλ‹¤. (μ„Έκ³„μ μΌλ΅ μ‹ λΆ°ν•  μ μλ” κΈ°μ—…μΌλ΅ λ“±λ΅λμ–΄ μκΈ° λ•λ¬Έμ—, λΈλΌμ°μ €κ°€ μΈμ¦μ„λ¥Ό νƒμƒ‰ν•μ—¬ ν•΄λ…μ΄ κ°€λ¥ν• κ²ƒ)

6. λΈλΌμ°μ €λ” ν•΄λ…ν• λ’¤,  Aμ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ–»κ² λμ—λ‹¤. μ΄μ  Aμ„λ²„μ™€ ν†µμ‹ ν•  λ•λ” μ–»μ€ Aμ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ”μ²­μ„ λ‚ λ¦¬κ² λλ‹¤.

<br>

<br>

## SSL/TLS π±β€π

![image](https://user-images.githubusercontent.com/62419307/90326463-9e8ed900-dfc3-11ea-9a8a-3b446d6d7797.png)

<br>

**SSL(Secure Sockets Layer)**μ€ μ›Ή μ„λ²„μ™€ λΈλΌμ°μ € κ°„μ— μ•”νΈν™”λ λ§ν¬λ¥Ό λ§λ“λ” ν‘μ¤€ λ³΄μ• κΈ°μ μ΄λ‹¤. λ„·μ¤μΌ€μ΄ν”„κ°€ κ°λ°ν• μ΄ κΈ°μ μ„ κµ­μ μΈν„°λ„·ν‘μ¤€ν™”κΈ°κµ¬(IETF)κ°€ ν‘μ¤€ν™”ν•μ—¬ μ „μ†΅ κ³„μΈµ λ³΄μ• **TLS(Transport Layer Security)**λ¥Ό λ§λ“¤μ—λ‹¤. μ΄ κΈ°μ μ€ μ›Ή μ„λ²„μ™€ λΈλΌμ°μ € κ°„μ— μ „λ‹¬λλ” λ¨λ“  λ°μ΄ν„°λ¥Ό λΉ„λ°€λ΅ λ§λ“ λ‹¤.

**SSL μΈμ¦μ„**λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°„μ ν†µμ‹ μ„ μ 3μκ°€ λ³΄μ¦ν•΄μ£Όλ” μ „μν™”λ λ¬Έμ„λ‹¤. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ†ν• μ§ν›„μ— μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ΄ μΈμ¦μ„ μ •λ³΄λ¥Ό μ „λ‹¬ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ΄ μΈμ¦μ„ μ •λ³΄κ°€ μ‹ λΆ°ν•  μ μλ” μ§€λ¥Ό κ²€μ¦ ν• ν›„μ— λ‹¤μ μ μ°¨λ¥Ό μν–‰ν•κ² λλ‹¤. SSLκ³Ό SSL λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό μ΄μ©ν–μ„ λ•μ μ΄μ μ€ μ•„λμ™€ κ°™λ‹¤.

- ν†µμ‹  λ‚΄μ©μ΄ κ³µκ²©μμ—κ² λ…Έμ¶λλ” κ²ƒμ„ λ§‰μ„ μ μλ‹¤. 
- ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•λ ¤λ” μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μΈμ§€λ¥Ό νλ‹¨ν•  μ μλ‹¤.
- ν†µμ‹  λ‚΄μ©μ μ•…μμ μΈ λ³€κ²½μ„ λ°©μ§€ν•  μ μλ‹¤. 

<br>

### SSLμ—μ„ μ‚¬μ©ν•λ” μ•”νΈν™”μ μΆ…λ¥ β…

- #### λ€μΉ­ν‚¤ (Symmetric Key)

  β” μ•”νΈν™”μ™€ λ³µνΈν™”μ— κ°™μ€ μ•”νΈν‚¤(λ€μΉ­ν‚¤)λ¥Ό μ‚¬μ©ν•λ” μ•κ³ λ¦¬μ¦

  - λ™μΌν• ν‚¤λ¥Ό μ£Όκ³ λ°›κΈ° λ•λ¬Έμ—, λ§¤μ° λΉ λ¥΄λ‹¤λ” μ¥μ μ΄ μλ‹¤.
  - λ€μΉ­ν‚¤ μ „λ‹¬κ³Όμ •μ—μ„ ν•΄ν‚Ή μ„ν—μ— λ…Έμ¶λ  μ μλ‹¤.

- #### κ³µκ°ν‚¤ (Public Key)

  β” μ•”νΈν™”μ™€ λ³µνΈν™”μ— μ‚¬μ©ν•λ” μ•”νΈν‚¤λ¥Ό λ¶„λ¦¬ν• μ•κ³ λ¦¬μ¦

  - μμ‹ μ΄ κ°€μ§€κ³  μλ” κ³ μ ν• μ•”νΈν‚¤(λΉ„λ°€ν‚¤)λ΅λ§ λ³µνΈν™”ν•  μ μλ” μ•”νΈν‚¤(κ³µκ°ν‚¤)λ¥Ό λ€μ¤‘μ— κ³µκ°ν•λ‹¤.
  - κΈ°λ°€μ„±: λ„κµ°κ°€κ°€ μ¤‘κ°„μ— λ°μ΄ν„°λ¥Ό κ°€λ΅μ±„λ”λΌλ„ μμ‹ μμ κ°μΈν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μκΈ° λ•λ¬Έμ— μ½μ„ μ μ—†λ‹¤.
  - λ¶€μΈ λ°©μ§€: λ°μ‹ μμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ λ°μ΄ν„°λ” λ°μ‹ μμ κ³µκ°ν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μλ‹¤.

  <br>

  **κ³µκ°ν‚¤ μ•”νΈν™” λ°©μ‹ μ§„ν–‰ κ³Όμ •**

  1. Aκ°€ μ›Ή μƒμ— κ³µκ°λ 'Bμ κ³µκ°ν‚¤'λ¥Ό μ΄μ©ν•΄ ν‰λ¬Έμ„ μ•”νΈν™”ν•μ—¬ Bμ—κ² λ³΄λƒ„
  2. Bλ” μμ‹ μ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”ν• ν‰λ¬Έμ„ ν™•μΈ, Aμ κ³µκ°ν‚¤λ΅ μ‘λ‹µμ„ μ•”νΈν™”ν•μ—¬ Aμ—κ² λ³΄λƒ„
  3. Aλ” μμ‹ μ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”λ μ‘λ‹µλ¬Έμ„ λ³µνΈν™”ν•¨

<br>

### SSL μΈμ¦μ„ μ©μ–΄ π”

#### CA

μΈμ¦μ„μ μ—­ν• μ€ ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μλ„ν• μ„λ²„κ°€ λ§λ”μ§€λ¥Ό λ³΄μ¥ν•λ” μ—­ν• μ„ ν•λ‹¤. μ΄ μ—­ν• μ„ ν•λ” λ―Όκ°„κΈ°μ—…λ“¤μ΄ μλ”λ° μ΄λ° κΈ°μ—…λ“¤μ„ CA(Certificate authority) νΉμ€ Root Certificate λΌκ³  λ¶€λ¥Έλ‹¤. 

<br>

#### μ‚¬μ„¤ μΈμ¦κΈ°κ΄€

κ°λ°μ΄λ‚ μ‚¬μ μΈ λ©μ μ„ μ„ν•΄μ„ SSLμ μ•”νΈν™” κΈ°λ¥μ„ μ΄μ©ν•λ ¤ν•λ‹¤λ©΄ μμ‹ μ΄ μ§μ ‘ CAμ μ—­ν• μ„ ν•  μλ„ μλ‹¤. λ¬Όλ΅  μ΄κ²ƒμ€ κ³µμΈλ μΈμ¦μ„κ°€ μ•„λ‹κΈ° λ•λ¬Έμ— μ΄λ¬ν• μ‚¬μ„¤ CAμ μΈμ¦μ„λ¥Ό μ΄μ©ν•λ” κ²½μ° λΈλΌμ°μ €λ” κ²½κ³ λ¥Ό μ¶λ ¥ν•λ‹¤.

<br>

### **SSL μΈμ¦μ„μ λ‚΄μ©** π”

μΈμ¦μ„μ λ‚΄μ©μ€ μ„μ λ©μ μ„ λ‹¬μ„±ν•κΈ° μ„ν• μ •λ³΄λ“¤μ΄ μλ‹¤.

μλ¥Ό λ“¤λ©΄,

- **μΈμ¦μ„λ¥Ό λ°κΈ‰ν• κΈ°κ΄€**
- **μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” λ„λ©”μΈ**
- ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν•λ ¤λ” μ„λ²„μ **κ³µκ°ν‚¤**
- **κ³µκ°ν‚¤μ μ•”νΈν™” λ°©λ²•**

<br>

<br>

## CORS (Cross-Origin Resource Sharing) π™

μ¶”κ°€ HTTP ν—¤λ”λ¥Ό μ‚¬μ©ν•μ—¬, ν• μ¶μ²μ—μ„ μ‹¤ν–‰ μ¤‘μΈ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ΄ λ‹¤λ¥Έ μ¶μ²μ μ„ νƒν• μμ›μ— μ ‘κ·Όν•  μ μλ” κ¶ν•μ„ λ¶€μ—¬ν•λ„λ΅ λΈλΌμ°μ €μ— μ•λ ¤μ£Όλ” μ²΄μ λ‹¤. μ¦‰, λ‹¤λ¥Έ μ¶μ² κ°„μ λ¦¬μ†μ¤ κ³µμ λ¥Ό λ§‰λ” κ²ƒμ„ λ§ν•λ‹¤.

<br>

### μ—¥? μ¶μ²(Origin)κ°€ λ­μ§€? π™„

μ„λ²„μ μ„μΉλ¥Ό μλ―Έν•λ” `https://google.com`κ³Ό κ°™μ€ URLλ“¤μ€ λ§μΉ ν•λ‚μ λ¬Έμμ—΄ κ°™μ•„ λ³΄μ—¬λ„, μ‚¬μ‹¤μ€ μ—¬λ¬ κ°μ κµ¬μ„± μ”μ†λ΅ μ΄λ£¨μ–΄μ Έμλ‹¤.

![image](https://user-images.githubusercontent.com/62419307/90326743-f11dc480-dfc6-11ea-82be-7cf03c6936a4.png)

μ΄λ• μ¶μ²λ” `Protocol`κ³Ό `Host`, κ·Έλ¦¬κ³  μ„ κ·Έλ¦Όμ—λ” λ‚μ™€μμ§€ μ•μ§€λ§ `:80`, `:443`κ³Ό κ°™μ€ ν¬νΈ λ²νΈκΉμ§€ λ¨λ‘ ν•©μΉ κ²ƒμ„ μλ―Έν•λ‹¤. μ¦‰, μ„λ²„μ μ„μΉλ¥Ό μ°Ύμ•„κ°€κΈ° μ„ν•΄ ν•„μ”ν• κ°€μ¥ κΈ°λ³Έμ μΈ κ²ƒλ“¤μ„ ν•©μ³λ†“μ€ κ²ƒμ΄λ‹¤.

<br>

### κ·Έλ¬λ©΄ μ™ CORSκ°€ ν•„μ”ν•μ§€? π¤¨

μ›Ήμ—μ„ λμ•„κ°€λ” ν΄λΌμ΄μ–ΈνΈ μ–΄ν”λ¦¬μΌ€μ΄μ…μ€ μ‚¬μ©μμ κ³µκ²©μ— λ„λ¬΄λ‚λ„ μ·¨μ•½ν• κµ¬μ΅°λ¥Ό κ°€μ§€κ³  μλ‹¤. μ΄λ° μƒν™© μ†μ—μ„ λ‹¤λ¥Έ μ¶μ²μ μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄ μ„λ΅ ν†µμ‹ ν•λ” κ²ƒμ— λ€ν•΄ μ•„λ¬΄λ° μ μ•½λ„ μ΅΄μ¬ν•μ§€ μ•λ”λ‹¤λ©΄, μ•…μλ¥Ό κ°€μ§„ μ‚¬μ©μκ°€ μ†μ¤ μ½”λ“λ¥Ό μ“± κµ¬κ²½ν• ν›„ CSRF(Cross-Site Request Forgeryλ‚ XSS(Cross-Site Scripting)μ™€ κ°™μ€ λ°©λ²•μ„ μ‚¬μ©ν•μ—¬ μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ½”λ“κ°€ μ‹¤ν–‰λ κ²ƒμ²λΌ κΎΈλ©°μ„ μ‚¬μ©μμ μ •λ³΄λ¥Ό νƒμ·¨ν•κΈ°κ°€ λ„λ¬΄λ‚λ„ μ‰¬μ›μ§„λ‹¤. 

<br>

### μ–΄λ–»κ² ν•΄κ²°ν•μ§€? πµ

λ‘ κ°μ μ¶μ²κ°€ μ„λ΅ κ°™λ‹¤κ³  νλ‹¨ν•λ” λ΅μ§ μμ²΄λ” κ°„λ‹¨ν•κΈ° λ•λ¬Έμ—, λ‘ URLμ κµ¬μ„± μ”μ† μ¤‘ `Scheme`, `Host`, `Port`, μ΄ 3κ°€μ§€λ§ λ™μΌν•λ©΄ λλ‹¤.

<br>

<br>

## μ»¨ν…μΈ  λ³΄μ• μ •μ±… (Content Security Policy) π¤“

**μ»¨ν…μΈ  λ³΄μ• μ •μ±…**(Content Security Policy, CSP)μ€ μ‹ λΆ°λ μ›Ή νμ΄μ§€ μ»¨ν…μ¤νΈμ—μ„ μ•…μμ μΈ μ»¨ν…μΈ λ¥Ό μ‹¤ν–‰ν•κ² ν•λ” μ‚¬μ΄νΈ κ°„ μ¤ν¬λ¦½ν…(XSS), ν΄λ¦­μ¬ν‚Ή, κ·Έλ¦¬κ³  κΈ°νƒ€ μ½”λ“ μΈμ μ… κ³µκ²©μ„ μλ°©ν•κΈ° μ„ν•΄ λ„μ…λ μ»΄ν“¨ν„° λ³΄μ• ν‘μ¤€μ΄λ‹¤. μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… λ³΄μ•μ W3C μ›ν‚Ή κ·Έλ£Ήμ ν›„λ³΄ κ¶κ³ μ•μ΄λ©° ν„λ€ μ›Ή λΈλΌμ°μ €μ— ν­λ„“κ² μ§€μ›λλ‹¤.

β• μ©μ–΄ μ •λ¦¬

+ XSS(Cross Site Scripting): κ³µκ²©μμ— μν•΄ μ‘μ„±λ μ¤ν¬λ¦½νΈκ°€ λ‹¤λ¥Έ μ‚¬μ©μμ—κ² μ „λ‹¬λλ” κ²ƒμ„ λ§ν•¨. λ‹¤λ¥Έ μ‚¬μ©μμ μ›Ή λΈλΌμ°μ € λ‚΄μ—μ„ μ μ ν• κ²€μ¦ μ—†μ΄ μ‹¤ν–‰λκΈ° λ•λ¬Έμ— μ‚¬μ©μμ μ„Έμ…μ„ νƒμ·¨ν•κ±°λ‚, μ›Ή μ‚¬μ΄νΈλ¥Ό λ³€μ΅°ν•κ±°λ‚ νΉμ€ μ•…μμ μΈ μ‚¬μ΄νΈλ΅ μ‚¬μ©μλ¥Ό μ΄λ™μ‹ν‚¬ μ μλ‹¤.
+ ν΄λ¦­μ¬ν‚Ή(Clickjacking): μ›Ή μ‚¬μ©μκ°€ μμ‹ μ΄ ν΄λ¦­ν•κ³  μλ‹¤κ³  μΈμ§€ν•λ” κ²ƒκ³Ό λ‹¤λ¥Έ μ–΄λ–¤ κ²ƒμ„ ν΄λ¦­ν•κ² μ†μ΄λ” μ•…μμ μΈ κΈ°λ²•μΌλ΅μ¨ μ μ¬μ μΌλ΅ κ³µκ²©μλ” λΉ„λ°€ μ •λ³΄λ¥Ό μ μ¶μ‹ν‚¤κ±°λ‚ κ·Έλ“¤μ μ»΄ν“¨ν„°μ— λ€ν• μ μ–΄λ¥Ό νλ“ν•  μ μκ² λλ‹¤.

<br>

[μ°Έκ³ 1](https://suhak.tistory.com/738)

[μ°Έκ³ 2]([https://gyoogle.dev/blog/computer-science/network/HTTP%20&%20HTTPS.html](https://gyoogle.dev/blog/computer-science/network/HTTP & HTTPS.html))

[μ°Έκ³ 3](https://victorydntmd.tistory.com/95)

[μ°Έκ³ 4](https://evan-moon.github.io/2020/05/21/about-cors/)

[μ°Έκ³ 5](https://developer.mozilla.org/ko/docs/Web/HTTP/CORS)